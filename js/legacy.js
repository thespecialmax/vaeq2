window.__loadedJsLibraries=window.__loadedJsLibraries||(window.__loadedJsLibraries=new Object());window.__loadedCssLibraries=window.__loadedCssLibraries||(window.__loadedCssLibraries=new Object());if(window.__loadedJsLibraries["/res/js/util/jshelper.js"]!==true){window.__loadedJsLibraries["/res/js/util/jshelper.js"]=true;var SPACER_GIF="/res/js/misc/spacer.gif";var BLANK_HTML="/res/common/blank.html";var TITLE_SPACES="&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;";TITLE_SPACES+=TITLE_SPACES;TITLE_SPACES+=TITLE_SPACES;TITLE_SPACES+=TITLE_SPACES;TITLE_SPACES+=TITLE_SPACES;function formatURL(r){var k=/\$LANGUAGE/g;var l=/\$COUNTRY/g;var m=/\$OEM/g;var n=/\$SCRIPTDIR/g;var o=/\$PRODUCTID/g;var p=/\$PRODUCT/g;var q=/\$WSCOEMPATH/g;var j=getTopWindow();r=r.replace(k,j.theLanguage);r=r.replace(l,j.theCountry);r=r.replace(m,j.theOEM);r=r.replace(n,j.theScriptDir);r=r.replace(o,j.productId||j.theProductId);r=r.replace(p,j.theProduct);r=r.replace(q,"/wsc/res/oem/"+j.wlName);return r}function jshelper_addRevision(e){try{if(getTopWindow().applicationRevision&&typeof(cm4all.URL)!="undefined"){var j=new cm4all.URL(e,true,true);var g=new cm4all.URL("/",true,true);var h=g.protocol+"://"+g.authority;j.setParameter("apprev",getTopWindow().applicationRevision,true);e=j.toExternalForm();if(e.indexOf(h)==0){e=e.substring(h.length)}}}catch(i){}return e}function getHeadElement(g){g=(g||document);var h=g.getElementsByTagName("head");if(h&&h[0]){return h[0]}var e=g.createElement("head");var f=g.getElementsByTagName("html")[0];f.insertBefore(e,f.firstChild);return e}IMPORT_JS=function(d,c){d=jshelper_addRevision(formatURL(d));c=(c||window);if(!isScriptAlreadyPresent(d)){c.document.write("<script id='"+d+"' type='text/javascript' src='"+d+"'><\/script>")}};isScriptAlreadyPresent=function(g){var f=qualifyUrl(g);var h=document.getElementsByTagName("script");for(var e=0;e<h.length;e++){if(f==qualifyUrl(h[e].src)){return true}}return false};qualifyUrl=function(e){var f=(typeof(e)=="object"?e.toString():e);var d=document.createElement("div");d.innerHTML='<a href="'+f.split("&").join("&amp;").split("<").join("&lt;").split('"').join("&quot;")+'">x</a>';return d.firstChild.href};IMPORT_JS_LIB=function(k,j,l){l=(l||window);if(typeof(k)=="string"){k=[k]}var n=formatURL(k[0]);var h=l.document.createElement("script");var i=function(b){if(h.importDone){return}if(b!==true&&h.readyState&&h.readyState!="loaded"&&h.readyState!="complete"){return}h.importDone=true;var c=k.slice(1);if(c.length==0){if(typeof(j)=="function"){j()}return}IMPORT_JS_LIB(c,j,l)};if(!isScriptAlreadyPresent(n)){var m=getHeadElement(l.document);h.setAttribute("language","javascript");h.setAttribute("src",n);h.id=n;h.setAttribute("cm_src",n);h.onload=i;h.onreadystatechange=i;m.appendChild(h)}else{h.importDone=false;i(true)}};IMPORT_CSS=function(i,k){if(typeof(i)=="string"){i=[i]}k=k||window;var j=k.document;var g=getHeadElement(j);for(var h=0;h<i.length;h++){url=formatURL(i[h]);var l=j.createElement("link");l.setAttribute("type","text/css");l.setAttribute("rel","stylesheet");l.setAttribute("href",url);l.setAttribute("cm_src",url);g.appendChild(l)}};REMOVE_CSS=function(j,l){if(typeof(j)=="string"){j=[j]}l=l||window;var i=l.document.getElementsByTagName("link");var k=l.document;for(var n=0;n<j.length;n++){url=formatURL(j[n]);for(var h=0;h<i.length;h++){var m=i[n];if(m.getAttribute("cm_src")==url){m.parentNode.removeChild(m);i=l.document.getElementsByTagName("link");break}}}};IMPORT_I18N=function(b){IMPORT_JS("/res/i18n/$LANGUAGE/$COUNTRY/"+b+".js")};if(typeof(encodeURIComponent)=="undefined"){encodeURIComponent=function(b){return escape(b)}}if(typeof(decodeURIComponent)=="undefined"){decodeURIComponent=function(b){return unescape(b)}}function jdecode(c){var d=/\+/g;c=c.replace(d,"%20");return decodeURIComponent(c)}function jencode(f){var d=/\+/g;var e=/%20/g;f=encodeURIComponent(f);return f.replace(d,"%2B").replace(e,"+")}function getTopWindow(j,e){if(!j){j=this}try{var h=j.document.location.href}catch(i){return(e||null)}if(typeof(j.__theOneAndOnlyTopWindow__)!="undefined"&&j.__theOneAndOnlyTopWindow__!=null){return j.__theOneAndOnlyTopWindow__}if(!j||j.parent==j){try{if(j&&!j.opener&&j.dialogArguments&&j.dialogArguments.opener){j.opener=j.dialogArguments.opener}}catch(i){}if(j&&j.opener&&!j.opener.closed&&j.opener!=j){var g=getTopWindow(j.opener,j);if(g){j.__theOneAndOnlyTopWindow__=g;return g}}return j}else{var g=getTopWindow(j.parent,j);if(g){j.__theOneAndOnlyTopWindow__=g;return g}return j}}function ensureWindowSize(B,e,D,w){var A=window.top.document.documentElement;var r=window.screen.availWidth;var q=window.screen.availHeight;var t=(typeof(window.screenLeft)!="undefined")?window.screenLeft:window.screenX;var u=(typeof(window.screenTop)!="undefined")?window.screenTop:window.screenY;var y=0;var z=0;if(t+B>r){y=Math.max(0,(B-(r-t)+20))}if(u+e>q){z=Math.max(0,(e-(q-u)+40))}if(w){try{window.top.moveBy(-y,-z)}catch(v){}if(B!=A.clientWidth||e!=A.clientHeight){try{window.top.resizeTo(B,e)}catch(s){}if(B!=A.clientWidth||e!=A.clientHeight){B=B+(B-A.clientWidth);e=e+(e-A.clientHeight);try{window.top.resizeTo(B,e)}catch(s){}}}}else{if(A.clientWidth<B||A.clientHeight<e){try{window.top.moveBy(-y,-z)}catch(v){}y=0;z=0;if(A.clientWidth<B){y=B-A.clientWidth}if(A.clientHeight<e){z=e-A.clientHeight}try{window.top.resizeBy(y,z)}catch(s){}y=0;z=0;if(A.clientWidth<B){y=B-A.clientWidth}if(A.clientHeight<e){z=e-A.clientHeight}try{window.top.resizeBy(y,z)}catch(s){}}}if(D){var r=window.screen.availWidth;var q=window.screen.availHeight;var C=Math.round((r-B)/2);var x=Math.round((q-e)/2);try{window.top.moveTo(C,x)}catch(s){}}}function copyBase(c,d){for(pt in c.prototype){d.prototype[pt]=c.prototype[pt]}d.prototype.toString=c.prototype.toString;d.prototype.valueOf=c.prototype.valueOf;d.prototype.base=c}function copyObject(c,d){for(pt in c){d[pt]=c[pt]}}function safeEscape(b){if(!b){return""}return b.replace(/([&<'])/g,function(c){switch(c){case"&":return"&amp;";case"<":return"&lt;";case"'":return"\\'";case'"':return'\\"'}})}String.prototype.startsWith=function(b){if(!b){return true}if(b.length>this.length){return false}return this.indexOf(String(b))==0};String.prototype.endsWith=function(b){if(!b){return true}if(b.length>this.length){return false}return this.lastIndexOf(String(b))==this.length-String(b).length};function getGUID(){var i="0000000000000000";var g=new Date().valueOf().toString(16);g=i.substr(0,10-g.length)+g;var j=Math.random().toString(16).substr(2);j=i.substr(0,16-j.length)+j;var h="32668";var f=h+"0"+g.substring(0,2)+"-"+g.substring(2,6)+"-"+g.substring(6,10)+"-"+j.substring(0,4)+"-"+j.substring(4,16);f=f.toUpperCase();return f}function convertToText(h){h=(h||"");var i=/<script/ig;var j=/<\/script/ig;var f=/(\r\n)|(\n\r)/g;var g=/\n/g;h=h.replace(i,"&lt;script");h=h.replace(j,"&lt;/script");h=h.replace(f,"\n");h=h.replace(g,"<BR/>");return h}function revertToText(g){g=(g||"");var h=/&lt;script/ig;var e=/&lt;\/script/ig;var f=/<br\/>/ig;g=g.replace(h,"<script");g=g.replace(e,"<\/script");g=g.replace(f,"\n");return g}}if(window.__loadedJsLibraries["/res/js/util/url.js"]!==true){window.__loadedJsLibraries["/res/js/util/url.js"]=true;var CM_SESSION_KEY_KEY="cmSessionKeyKey";if(typeof(encodeURIComponent)=="undefined"){encodeURIComponent=function(b){return escape(b)}}if(typeof(decodeURIComponent)=="undefined"){decodeURIComponent=function(b){return unescape(b)}}window.cm4all=window.cm4all||{};window.cm4all.URL=function(p,q,n){p=cm4all.URL.buildURL(p);this.protocol=null;this.host=null;this.port=-1;this.file=null;this.query=null;this.authority=null;this.path=null;this.userInfo=null;this.ref=null;this.qParams=new Object();var s,t,r;var u=p;var v=0;var c=null;var o=false;t=p.length;while((t>0)&&(p.charAt(t-1)<=" ")){t--}while((v<t)&&(p.charAt(v)<=" ")){v++}if(p.substr(v,4).toLowerCase()=="url:"){v+=4}if(v<p.length&&p.charAt(v)=="#"){o=true}for(s=v;!o&&(s<t)&&((r=p.charAt(s))!="/");s++){if(r==":"){var i=p.substring(v,s).toLowerCase();if(this.isValidProtocol(i)){c=i;v=s+1}break}}this.protocol=c;if(this.protocol==null){}s=p.indexOf("#",v);if(s>=0){this.ref=p.substring(s+1,t);t=s}parseURL(this,p,v,t);this.parseQueryString();if(!q){this.setSession()}if(!n){this.setParameter("cc",Math.random(),true)}};function URL_set(k,o,i,l,j,m,n,p){this.protocol=k;this.host=o;this.port=i;this.file=n==null?m:m+"?"+n;this.userInfo=j;this.path=m;this.ref=p;this.query=n;this.authority=l}function URL_debug(){var f="protocol:  "+this.protocol+"\nhost:      "+this.host+"\nport:      "+this.port+"\nfile:      "+this.file+"\nuserInfo:  "+this.userInfo+"\npath:      "+this.path+"\nref:       "+this.ref+"\nquery:     "+this.query+"\nauthority: "+this.authority+"\n\n";var h;for(h in this.qParams){var g=this.qParams[h];if(typeof g=="function"){continue}f+=h+" -> [";if(!g){alert("missing: "+h);continue}for(var e=0;e<g.length;e++){f+=g[e]+(e!=(g.length-1)?",":"")}f+="]\n"}alert(f)}function URL_getParameter(f,e){if(!f){return e}var d=this.qParams[f];if(d==null){return e}else{return d[0]}}function URL_getParameterValues(b){return this.qParams[b]}function URL_getParameterNames(){var d;var c=new Array();for(d in this.qParams){if(typeof this.qParams[d]=="function"){continue}c[c.length]=d}return c}function parseURL(B,E,J,v){var A=B.protocol;var F=B.authority;var G=B.userInfo;var z=B.host;var C=B.port;var u=B.file;var H=B.ref;var I=null;var t=false;var x=false;if(J<v){var i=E.indexOf("?");x=(i==J);if(i!=-1){I=E.substring(i+1,v);if(v>i){v=i}E=E.substring(0,i)}}var w=0;if((J<=v-2)&&(E.charAt(J)=="/")&&(E.charAt(J+1)=="/")){J+=2;w=E.indexOf("/",J);if(w<0){w=E.indexOf("?",J);if(w<0){w=v}}z=F=E.substring(J,w);var D=F.indexOf("@");if(D!=-1){G=F.substring(0,D);z=F.substring(D+1)}D=z.indexOf(":");C=-1;if(D>=0){if(z.length>(D+1)){C=parseInt(z.substring(D+1))}z=z.substring(0,D)}J=w;if(F!=null&&F.length>0){u=""}}if(z==null){z=""}if(J<v){if(E.charAt(J)=="/"){u=E.substring(J,v)}else{if(u!=null&&u.length>0){t=true;var D=u.lastIndexOf("/");var y="";if(D==-1&&F!=null){y="/"}u=u.substring(0,D+1)+y+E.substring(J,v)}else{var y=(F!=null)?"/":"";u=y+E.substring(J,v)}}}else{if(x&&u!=null){var D=u.lastIndexOf("/");if(D<0){D=0}u=u.substring(0,D)+"/"}}if(u==null){u=""}if(t){while((w=u.indexOf("/./"))>=0){u=u.substring(0,w)+u.substring(w+2)}while((w=u.indexOf("/../"))>=0){if((v=u.lastIndexOf("/",w-1))>=0){u=u.substring(0,v)+u.substring(w+3)}else{u=u.substring(w+3)}}while(u.substring(u.length-3,u.length)=="/.."){w=u.indexOf("/..");if((v=u.lastIndexOf("/",w-1))>=0){u=u.substring(0,v+1)}else{u=u.substring(0,w)}}if(u.substring(u.length-2,u.length)=="/."){u=u.substring(0,u.length()-1)}}setURL(B,A,z,C,F,G,u,I,H)}function setURL(n,l,k,q,p,m,j,o,r){n.set(n.protocol,k,q,p,m,j,o,r)}function URL_isValidProtocol(b){return true}function URL_setParameter(d,f,e){if(!d){return}if(e||this.qParams[d]==null){this.qParams[d]=new Array()}this.qParams[d][this.qParams[d].length]=f}function URL_removeParameter(d){var f;var e=new Object();for(f in this.qParams){if(typeof this.qParams[f]=="function"){continue}if(f!=d){e[f]=this.qParams[f]}}this.qParams=e}function URL_removeAllParams(){var b=new Object();this.qParams=b}function URL_parseQueryString(){var l;if(this.query==null||this.query.length==0){return}else{l="&"+this.query}var h;var i=l.indexOf("&");while(i!=-1){var m=null;var k=0;h=l.indexOf("&",i+1);if(h!=-1){m=l.substring(i+1,h)}else{m=l.substr(i+1)}k=m.indexOf("=");if(k!=-1){var n=m.substring(0,k);var j=m.substr(k+1);this.setParameter(n,j)}i=h}}function URL_getQueryString(){var g="";var e;for(e in this.qParams){var h=this.qParams[e];if(typeof h=="function"){continue}for(var f=0;f<h.length;f++){if(g.length==0){g+=e+"="+h[f]}else{g+="&"+e+"="+h[f]}}}return g}function URL_toExternalForm(f){var e=this.protocol;e+=":";if(this.authority!=null&&this.authority.length>0){e+="//";e+=this.authority}if(this.path!=null){e+=this.path}if(!f){var d=this.getQueryString();if(d.length>0){e+="?"+d}if(this.ref!=null){e+="#";e+=this.ref}}return e}function URL_setSession(){var b=getSessionPair();if(b[0]&&b[1]){this.setParameter(b[0],b[1],true);this.setParameter(CM_SESSION_KEY_KEY,b[0],true);return true}return false}function URL_getPrototypePair(){return{url:this.toExternalForm(true),parameters:this.getQueryString()}}cm4all.URL.buildURL=function(f){if(f.indexOf(":")==-1){var d=new cm4all.URL(document.location.href);if(f.indexOf("./")==0||f.indexOf("../")==0){var e=d.path.lastIndexOf("/");if(e!=-1){d.path=d.path.substring(0,e)+"/"}return(d.protocol+"://"+d.authority+d.path+f)}else{return(d.protocol+"://"+d.authority+f)}}else{return f}};cm4all.URL.getSessionPair=function(i){try{var g;var h=window.cmSessionKey;var e=window.cmSessionValue;if(!i){i=document.location.href}if(!h||!e){g=new cm4all.URL(i,true,true);h=g.getParameter(CM_SESSION_KEY_KEY,"");e=g.getParameter(h,"")}return[h,e]}catch(j){return[]}};cm4all.URL.getSessionHref=function(){var b=new cm4all.URL(document.location.href,true,true);b.setSession();return b.toExternalForm()};cm4all.URL.processLinkz=function(l){if(!l){l=window.document}var m=getSessionPair();var k=m[0];var n=m[1];for(var o=0;o<l.links.length;o++){var q=l.links[o];var i=new cm4all.URL(q.href,true,true);var p=i.getParameter("*session*id*key*","");if(p=="*session*id*val*"){i.removeParameter("*session*id*key*");if(k&&n){i.setParameter(k,n,true);i.setParameter(CM_SESSION_KEY_KEY,k,true)}q.href=i.toExternalForm()}}};cm4all.URL.getSessionString=function(){var b=getSessionPair();if(b[0]&&b[1]){return b[0]+"="+b[1]+"&"+CM_SESSION_KEY_KEY+"="+b[0]}else{return""}};cm4all.URL.jdecode=function(c){var d=/\+/g;c=c.replace(d,"%20");return decodeURIComponent(c)};cm4all.URL.deamplify=function(c){var d=/&amp;/g;c=c.replace(d,"&");return c};cm4all.URL.jencode=function(g){var h=/\+/g;var e=/%20/g;var f=/'/g;g=encodeURIComponent(g);return g.replace(h,"%2B").replace(e,"+").replace(f,"%27")};cm4all.URL.testEmail=function(d){var c=/^\w+((-\w+)|(\.\w+))*\@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z0-9]+$/;return c.test(d)};cm4all.URL.prototype.set=URL_set;cm4all.URL.prototype.debug=URL_debug;cm4all.URL.prototype.isValidProtocol=URL_isValidProtocol;cm4all.URL.prototype.toExternalForm=URL_toExternalForm;cm4all.URL.prototype.toString=URL_toExternalForm;cm4all.URL.prototype.parseQueryString=URL_parseQueryString;cm4all.URL.prototype.getPrototypePair=URL_getPrototypePair;cm4all.URL.prototype.getQueryString=URL_getQueryString;cm4all.URL.prototype.getParameter=URL_getParameter;cm4all.URL.prototype.getParameterValues=URL_getParameterValues;cm4all.URL.prototype.getParameterNames=URL_getParameterNames;cm4all.URL.prototype.setParameter=URL_setParameter;cm4all.URL.prototype.removeParameter=URL_removeParameter;cm4all.URL.prototype.setSession=URL_setSession;cm4all.URL.prototype.removeAllParams=URL_removeAllParams;function getSessionPair(b){return cm4all.URL.getSessionPair(b)}function getSessionHref(){return cm4all.URL.getSessionHref()}function processLinkz(b){cm4all.URL.processLinkz(b)}function getSessionString(){return cm4all.URL.getSessionString()}function jdecode(b){return cm4all.URL.jdecode(b)}function jencode(b){return cm4all.URL.jencode(b)}}if(window.__loadedJsLibraries["/res/js/util/html.js"]!==true){window.__loadedJsLibraries["/res/js/util/html.js"]=true;function _createHtmlElement(u){var y;var t=window.document;var z={};var E=[];for(y=1;y<arguments.length;y++){var G=arguments[y];if(G){if(G.nodeType&&G.nodeType==9){t=G}else{if(typeof(G)=="string"||(G.nodeType&&(G.nodeType==1||G.nodeType==3))){E.push(G)}else{if(Object.isArray(G)){E=G}else{z=G}}}}}var B=(z.attributes||{});var e=(z.styles||{});var i=(z.events||{});var C=(z.classes||[]);var D;if((Prototype.Browser.IE6||Prototype.Browser.IE7||Prototype.Browser.IE8)&&((u=="td"&&B.colspan)||(u=="input"&&B.type&&(B.type=="checkbox"||B.type=="radio")))){var A="";for(a in B){A+=a+"='"+B[a]+"' "}D=t.createElement("<"+u+" "+A+"/>")}else{D=t.createElement(u)}D=$(D);if(u=="textarea"&&Prototype.Browser.IE8){D.observe("keydown",function(b){D.style.visibility="visible";return true})}if(B.type){D.setAttribute("type",B.type)}for(var w in B){if(w=="type"||w=="extend"&&typeof(B[w])=="function"){continue}if(w=="checked"&&u=="input"){D.defaultChecked=true}D.setAttribute(w,B[w])}for(var F in e){if(F=="extend"&&typeof(e[F])=="function"){continue}D.style[""+F]=""+e[F]}for(var v in i){if(v=="extend"&&typeof(i[v])=="function"){continue}D[v]=i[v]}D.className=C.join(" ");for(y=0;y<E.length;y++){if(E[y]){try{if(typeof(E[y])=="string"){D.appendChild(TEXT(t,E[y]))}else{D.appendChild(E[y])}}catch(x){alert("Error: "+u+" "+E[y])}}}return D}var HTMLTAGS=["A","B","BR","BODY","BUTTON","CENTER","COL","COLGROUP","DIV","EMBED","FONT","FORM","FRAME","FRAMESET","H1","H2","H3","H4","H5","H6","HEAD","HTML","I","IFRAME","IMG","INPUT","LABEL","LI","NOBR","OBJECT","OL","OPTION","P","PARAM","PRE","SCRIPT","SELECT","S","SPAN","STYLE","TEXTAREA","TABLE","TBODY","TFOOT","THEAD","TITLE","TR","TD","TH","U","UL"];HTMLTAGS.each(function(c){window[c.toUpperCase()]=function(){return _createHtmlElement.apply(null,[c.toLowerCase()].concat($A(arguments)))}});function TEXT(g,i){var f,h;if(g){if(g.getElementById){f=g;h=(i||"")}else{f=window.document;h=g}}else{f=window.document;h=(i||"")}return f.createTextNode(h)}}if(window.__loadedJsLibraries["/res/js/prototype/prototype_impl.js"]!==true){window.__loadedJsLibraries["/res/js/prototype/prototype_impl.js"]=true;var DEBUG_MODE_ENABLED=getTopWindow?(getTopWindow().PROTOTYPE_DEBUG||(getTopWindow().wlName&&getTopWindow().wlName.endsWith("_developer"))):false;Prototype.falseFunction=function(){return false};Prototype.noParallelExecution=function(j,f,h,i){var g=false;if(f){g=("cm4all-guard-lock-"+new String(new Date().getTime()+Math.random()).replace(/\./,"-"));return function(){var e,k;var d=this;if(this[g]){if(typeof h==="function"){h.apply(this,arguments)}return undefined}this[g]=true;var b=function(){delete d[g]};try{if(i){k=$A(arguments).clone();k.unshift(b);e=j.apply(this,k)}else{e=j.apply(this,arguments);b()}}catch(c){b();throw c}return e}}else{return function(){var d;if(g){if(typeof h==="function"){h.apply(this,arguments)}return undefined}g=true;var b=function(){g=false};try{if(i){args=$A(arguments).clone();args.unshift(b);d=j.apply(this,args)}else{d=j.apply(this,arguments);b()}}catch(c){b();Common.log(c);throw c}return d}}};Object.extend(Prototype.Browser,{IE6:Prototype.Browser.IE&&parseInt(navigator.userAgent.substring(navigator.userAgent.indexOf("MSIE")+5))==6,IE7:Prototype.Browser.IE&&parseInt(navigator.userAgent.substring(navigator.userAgent.indexOf("MSIE")+5))==7,IE8:Prototype.Browser.IE&&parseInt(navigator.userAgent.substring(navigator.userAgent.indexOf("MSIE")+5))==8,IE8inIE7compatMode:document.documentMode&&document.documentMode==7});if(Prototype.Browser.IE){Prototype.Browser.Version=parseFloat(navigator.userAgent.replace(/^(.*MSIE )(\d+\.\d+)(.*)$/,"$2"))||0}else{if(Prototype.Browser.WebKit){Prototype.Browser.Version=parseFloat(navigator.userAgent.replace(/^(.*AppleWebKit\/)(\d+\.\d+)(.*)$/,"$2"))||0}else{if(Prototype.Browser.Gecko){Prototype.Browser.Version=parseFloat(navigator.userAgent.replace(/^(.*Firefox\/)(\d+\.\d+)(.*)$/,"$2"))||0}}}if(!Prototype.Browser.IE&&navigator.userAgent.indexOf("Trident/")!=-1){Prototype.Browser.Gecko=false;Prototype.Browser.Trident=true;Prototype.Browser.Version=parseFloat(navigator.userAgent.replace(/^(.*Trident\/)(\d+\.\d+)(.*)$/,"$2"))||0}Ajax.Request.ReauthImageSrc="/res/js/prototype/keepalive.gif";Ajax.Request.ReauthLoopTimeout=10;if(!Object.isFunction(Ajax.Request.prototype._extended_by_prototype_impl)){Object.extend(Ajax.Request.prototype,{_extended_by_prototype_impl:Prototype.emptyFunction,_orig_initialize:Ajax.Request.prototype.initialize,_orig_setRequestHeaders:Ajax.Request.prototype.setRequestHeaders,_orig_respondToReadyState:Ajax.Request.prototype.respondToReadyState,setRequestHeaders:function(){if(typeof(this.options.requestHeaders)=="object"&&this.options.requestHeaders==null){delete this.options.requestHeaders}var b=(Object.isFunction(window.getTopWindow)?window.getTopWindow().cm4allSecToken:"");if(b!=""){this.options.requestHeaders=this.options.requestHeaders||[];if(Object.isFunction(this.options.requestHeaders.push)){this.options.requestHeaders.push("x-cm4all-sectoken");this.options.requestHeaders.push(b)}else{this.options.requestHeaders["x-cm4all-sectoken"]=b}}this._orig_setRequestHeaders()},success:function(){var b=this.getStatus();return(b>=200&&b<300)},initialize:function(c,d){this._orig_url=c;this._orig_options=d||{};this.reinit()},reinit:function(){this._orig_initialize(this._orig_url,this._orig_options)},onerror:function(){var j=getTopWindow();if(!j){return}if(DEBUG_MODE_ENABLED&&!confirm("Do prototype_reauth reload?")){return}var f=new cm4all.URL(j.document.location.href,true,true);var g=Math.floor(new Date().getTime()/1000);var h=Number(f.getParameter("prototype_reauth","0"));var i=(g-h);if(String(i)=="NaN"||i>Ajax.Request.ReauthLoopTimeout){if(j!=window.top){window.top.close()}f.setParameter("prototype_reauth",g,true);j.document.location.href=f.toExternalForm()}},respondToReadyState:function(d){var c=Ajax.Request.Events[d];if(c=="Complete"){if(this.getHeader("X-CM4all-SAM-Login")){this.onerror();return}if(!this.success()&&!this.reauthImage&&!this._orig_options._skip_error_handling){if((document.defaultView||document.parentWindow)&&document.readyState!="uninitialized"){this.reauthImage=document.createElement("img");Event.observe(this.reauthImage,"load",this.reinit.bind(this));Event.observe(this.reauthImage,"error",this.onerror.bind(this));this.reauthImage.src=new cm4all.URL(Ajax.Request.ReauthImageSrc).toExternalForm();return}}this.reauthImage=null}this._orig_respondToReadyState(d)}})}Object.extend(Element,{create:function(d){if(!d||!d.nodeName){return null}var e=document.createElement(d.nodeName);e.className=d.className||"";if(d.id){e.id=d.id}if(d.attributes){var f;for(f in d.attributes){e[f]=d.attributes[f]}}if(d.parent){d.parent.insertBefore(e,d.ref||null)}return e},removeAllChildren:function(b){if(typeof(b)=="string"){b=$(b)}while(b.lastChild!=null){b.removeChild(b.lastChild)}},setZebra:function(l){var k=$(l);var j=0;for(var i=k.firstChild;i!=null;i=i.nextSibling){if(i.nodeType==Node.ELEMENT_NODE&&(i.nodeName.toUpperCase()=="TR"||i.nodeName.toUpperCase()=="SPAN")){var g=((j%2)?"zebra_even":"zebra_odd");var h=((j%2)?"zebra_odd":"zebra_even");j++;if(i.className.indexOf(g)==-1){Element.removeClassName(i,h);Element.addClassName(i,g)}}}}});Element.addMethods({showIf:function(c,d){c=$(c);Element[d?"show":"hide"](c);return c},vvisible:function(b){return $(b).style.visibility!="hidden"},vtoggle:function(b){b=$(b);Element[Element.vvisible(b)?"vhide":"vshow"](b);return b},vhide:function(b){$(b).style.visibility="hidden";return b},vshow:function(b){$(b).style.visibility="visible";return b},vshowIf:function(c,d){c=$(c);Element[d?"vshow":"vhide"](c);return c}});if(Prototype.Browser.Trident){Element._orig_makePositioned=Element.makePositioned;Element.addMethods({makePositioned:function(b){if(Element.hasClassName(b.parentNode,"ui-cm4all-scrollable-carousel-inner")){return b}return Element._orig_makePositioned(b)}})}Object.extend(Form.Methods,{focusFirstElement:function(c){c=$(c);var d=c.findFirstElement();if(d){d.activate()}return c}});Object.extend(Form,Form.Methods);(function(b){Object.extend(Element.Methods,{absolutize:function(){var d=b.apply(this,arguments);if(d.getStyle("box-sizing")==="border-box"){var e=d.getLayout();d.setStyle({width:(e.get("border-box-width")+e.get("border-left")+e.get("border-right"))+"px",height:(e.get("border-box-height")+e.get("border-top")+e.get("border-bottom"))+"px"})}}})})(Element.Methods.absolutize);Object.extend(Element,Element.Methods);Object.extend(Element.Methods.ByTag,{FORM:Object.clone(Form.Methods)});Object.extend(Node,{getElementsByAttributeValue:function(d,e,f){return Node.getElementsByNameAndAttributeValue(d,"*",e,f)},getElementsByNameAndAttributeValue:function(j,h,f,i){var g=j.getElementsByTagName(h);return $A(g).inject([],function(c,b){if(b.getAttribute(f)==i){c.push(b)}return c})},getNodeValue:function(f,g){var h=$A(f.childNodes).find(function(b){return b.nodeName==g});if(h!=null){var e=h.firstChild;if(e!=null&&(e.nodeType==Node.TEXT_NODE||e.nodeType==Node.CDATA_SECTION_NODE)){return""+e.data}}return""},setNodeValue:function(f,h,g){var i=$A(f.childNodes).find(function(b){return b.nodeName==h});if(i==null){i=f.ownerDocument.createElement(h);f.insertBefore(i,f.firstChild)}var j=i.firstChild;if(j!=null&&(j.nodeType==Node.TEXT_NODE||j.nodeType==Node.CDATA_SECTION_NODE)){j.data=g}else{while(i.firstChild!=null){i.removeChild(i.firstChild)}i.appendChild(f.ownerDocument.createTextNode(g))}}});document.getElementsByAttributeName=function(f,e){var d=($(e)||document.body).getElementsByTagName("*");return $A(d).inject([],function(c,b){if(b.getAttribute(f)){c.push(b)}return c})};Object.extend(Form,{getRadioValue:function(f,d){f=$(f);var e=$A(f.elements).find(function(b){if(b.tagName.toLowerCase()=="input"&&b.type.toLowerCase()=="radio"&&b.name==d&&b.checked){return b.value}});if(e){return $(e).getValue()}else{return""}}});if(!Object.isFunction(Abstract.EventObserver.prototype._extended_by_prototype_impl)){Object.extend(Abstract.EventObserver.prototype,{_extended_by_prototype_impl:Prototype.emptyFunction,_orig_initialize:Abstract.EventObserver.prototype.initialize,initialize:function(d,f,e){this.withKeyUp=(e===true);this._orig_initialize(d,f)},_orig_registerCallback:Abstract.EventObserver.prototype.registerCallback,registerCallback:function(b){this._orig_registerCallback(b);if(this.withKeyUp&&b.type){switch(b.type.toLowerCase()){case"password":case"text":case"textarea":Event.observe(b,"keyup",this.onElementEvent.bind(this));break}}},reset:function(){this.lastValue=this.getValue()}})}Object.extend(Array.prototype,{without:function(){var b;if(arguments.length==1&&Object.isArray(arguments[0])){b=$A(arguments[0])}else{b=$A(arguments)}return this.select(function(c){return !b.include(c)})},insertBefore:function(e,d){var f=(d?this.indexOf(d):this.length);f=(f>=0?f:this.length);this.splice(f,0,e);return this},swap:function(g,h){var e=this.indexOf(g);var f=this.indexOf(h);if(e>=0&&f>=0){this[e]=h;this[f]=g}return this}});Object.extend(Object,{cloneDeep:function(d){if(Object.isArray(d)){d=d.collect(function(b){return Object.cloneDeep(b)})}else{if(Object.isHash(d)){d=new Hash(Object.cloneDeep(d.toObject()))}else{if(typeof d==="object"){var e={};for(var f in d){e[f]=Object.cloneDeep(d[f])}d=e}}}return d},ensureArray:function(b){if(!Object.isArray(b)){b=[b]}return b}});(function(){function b(e,d){if(e.hasOwnProperty("equals")){return}Object.defineProperty(e,"equals",{enumerable:false,writable:true,value:function(c){if(c===null&&typeof c!==d){return false}return(this.valueOf()===c.valueOf())}})}(function(c){if(c.hasOwnProperty("equals")){return}Object.defineProperty(c,"equals",{enumerable:false,writable:true,value:function(d){return(this===d)}})})(Object.prototype);b(String.prototype,"string");b(Number.prototype,"number");b(Boolean.prototype,"boolean");Object.areEqual=function(h,i){var g;var f={};if(h===i){return true}if(h===null||i===null||typeof h==="undefined"||typeof i==="undefined"){return false}if(h.equals(i)){return true}if(typeof h==="object"&&typeof i==="object"){for(g in h){if(!Object.areEqual(h[g],i[g])){return false}f[g]=true}for(g in i){if(f[g]){continue}if(!Object.areEqual(i[g],h[g])){return false}}return true}return false}})();var Script={head:null,loaded:{},loadedCss:{},data:{},nextId:0,getHead:function(){if(!Script.head){Script.head=document.getElementsByTagName("head")[0]}},load:function(){var f=Script.nextId++;var e=$A(arguments);var d=Script.data[f]={toload:[],callback:(typeof(e.first())=="function"?e.shift():null),sequentialLoad:(typeof(e.last())=="boolean"?e.pop():false),count:(e=e.findAll(function(b){return !Script.loaded[b]})).length};(d.sequentialLoad?e.reverse():e).each(function(b,c){if(!d.sequentialLoad||c==(d.count-1)){Script.doRequest(f,b)}else{d.toload.push(b)}})},callback:function(f,e){var d=Script.data[f];if(d){d.count--;Script.loaded[e]=true;if(d.count==0){(typeof(d.callback)=="function")&&d.callback();delete (d)}else{if(d.sequentialLoad){Script.doRequest(f,d.toload.pop())}}}},doRequest:function(c,d){if(d){new Ajax.Request(d,{method:"get",onSuccess:function(){Script.callback(c,d)},onFailure:function(){alert("Error loading: "+d)},_skip_error_handling:true})}},loadCss:function(c){Script.getHead();if(!Script.loadedCss[c]){var d=document.createElement("link");d.href=c;d.type="text/css";d.rel="stylesheet";Script.head.appendChild(d);Script.loadedCss[c]=true}}};Ajax.Document={create:(function(){var b;return function(d){if(!b){Try.these(function(){var c=new ActiveXObject("Msxml2.DOMDocument");b=arguments.callee;return c},function(){var c=document.implementation.createDocument("","",null);b=arguments.callee;return c},function(){b=Prototype.emptyFunction})}var e=b.call(this);if(e){if(d){e.appendChild(e.createElement(d))}}return e}})(),parse:function(b){return Try.these(function(){return new DOMParser().parseFromString(b,"text/xml")},function(){var c=new ActiveXObject("Msxml2.DOMDocument");c.async="false";c.loadXML(b);return c})||null},isDocument:function(b){if(b==null){return false}if(typeof(b)!="object"){return false}if(b.nodeName!="#document"){return false}if(b.documentElement==null){return false}return true},toString:function(e){var f="Ajax.isDocument : error";if(e){try{f=new XMLSerializer().serializeToString(e)}catch(d){f=e.xml}}return f}};Object.extend(String.prototype,{evalScripts:function(){return this.extractScripts().map(function(script){script=script.replace(/var __comaWidget/,"window.__comaWidget");try{return eval(script)}catch(e){}})}});if(!Object.isFunction(String.prototype.trim)){Object.extend(String.prototype,{trim:function(){return this.replace(/^\s+/,"").replace(/\s+$/,"")}})}if(DEBUG_MODE_ENABLED){Try={these:function(){var h;for(var e=0;e<arguments.length;e++){var f=arguments[e];try{h=f();break}catch(g){if(getTopWindow().console){getTopWindow().console.log(f+": "+g)}}}return h}};Ajax.Responders.register({onException:function(c,d){if(getTopWindow().console){getTopWindow().console.log(c+": "+d)}}})}$Q=function(d,c){c=$(c);return c?c.select(d):$$(d)}};